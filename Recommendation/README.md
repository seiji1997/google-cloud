# Recommendation

## レコメンドエンジン
レコメンドエンジンには、機械学習のアルゴリズムが利用されています。レコメンドエンジンの場合、ビッグデータに該当するものは、顧客ごとの商品の購買履歴や検索履歴、閲覧履歴など、オンライン・ショッピングサイト上における行動履歴です。 これらの行動履歴は、データベースに保存されます。その行動履歴は膨大な量のデータ（ビッグデータ）となり、それらはレコメンドエンジンによって解析されます。レコメンドエンジンは、その解析結果をもとに、顧客ごとにお勧め商品を紹介します。これを、「レコメンデーション」と言います。<br>
レコメンドエンジンは、数ある商品のなかから顧客にあった商品を絞り込み、お勧め商品として表示します。この「絞り込み」のことを、「フィルタリング」と言います。「フィルタリング」には、大きく分けて、次の3つの種類があります。

### 1. 協調フィルタリング
- 「商品Aを購入した顧客は、商品Bを一緒に購入することが多いため、商品Aを購入した顧客に対し、商品Bをお勧め商品として紹介する」ことを「協調フィルタリング」と言います。 
- 例として、アメリカのマーケット分析の結果によると、「おむつを購入した顧客はビールも一緒に買う」傾向があるそうです。協調フィルタリングでは、レコメンデーションの際に商品情報を必要としないため、「おむつとビール」のような何の関連性もない商品がお勧め商品として紹介することが可能で、利用者にとっても思いがけない新たな商品を発掘するきっかけとなります。 
- ただ、協調フィルタリングの場合、レコメンデーションに必要なデータ量が少ないと、お勧め商品として掲載される商品の精度が悪いという欠点があります。これを、「コールドスタート」と言います。コールドスタートの欠点を示す例として、ショッピングサイトに新商品を追加した場合、その商品はまだレコメンデーションに関するデータを持っていないため、新商品であるにも関わらず、お勧め商品として紹介されません。

### 2. コンテンツベース・フィルタリング
- 「メーカーAのパソコンを購入した顧客には、メーカーAの他の商品を紹介したり、他のメーカーのパソコンを紹介する」ことを「コンテンツベース・フィルタリング」と言います。コンテンツベース・フィルタリングは、商品情報（コンテンツ）と顧客の趣味趣向の関連性をもとにレコメンデーションを行います。商品情報は、その内容によって予めグループ化されており、顧客がどのグループの商品を検索したり購入したかをデータとして蓄積します。 
- そのデータをもとに、顧客ごとにグループ化された商品をレコメンデーションします。コンテンツベース・フィルタリングの欠点としては、いつも同じような商品がお勧め商品として紹介されてしまうことが挙げられます。また、商品の数が多い場合、商品情報のグループ化に手間がかかります。

### 3．クラスタ・フィルタリング
- カミソリを使うには、カミソリの刃を必要とします。そのため、カミソリを購入された顧客にカミソリの刃をお勧めするように、「クラスタ・フィルタリング」とは、顧客の行動履歴とは一切関係なく、一緒に購入すると良いと思われる商品をお勧めすることを言います。 
- クラスタ・フィルタリングは、顧客の行動履歴とは一切関係がないため、レコメンデーションエンジンの導入直後からでも利用可能なフィルタリングです。レコメンデーションの例としては、次のようなものがあります。

#### １．あなたにおすすめの商品
- オンライン・ショッピングサイトのトップページなどにお勧め商品を表示します。その顧客が購入する可能性が最も高い商品を予測し、すぐに購入できる位置に表示します。

#### ２．この商品を見ている人はこんな商品も見ています
- 商品ページごとにお勧め商品を表示します。複数の顧客の行動履歴より、閲覧中の商品に紐づいたお勧めの商品を表示します。

#### ３．この商品を購入した人は、一緒にこんな商品も購入しています。
- 商品を購入したあとのページにお勧め商品を表示します。複数の顧客の行動履歴や、商品のコンテンツ情報に基づくお勧め商品を表示します。

## レコメンドエンジンでできること
### 1. ショッピングサイトにお勧め商品を表示する
- 最も、一般的なレコメンデーションの例です。自社のショッピングサイトにレコメンドエンジンを組み込むことで、顧客により多くの商品を購入していただくきっかけを提供することができます。
- また、的確なレコメンデーションは、商品検索の手間を省かせることができ、顧客においてもサイトの利便性が向上する結果が期待されます。

### 2. Webサイトに広告としてお勧め商品を表示する
- ショッピングサイト以外のWebサイトでも、インターネット広告としてレコメンデーションを利用することが考えられます。たとえば、閲覧しているWebサイトのコンテンツに沿った内容の広告を表示することが可能です。

### 3. 顧客のニーズにあった広告メールを送信
- 広告メールがブロックされる理由としては、その広告メールの内容が、顧客のニーズに全くあっていないからでしょう。男性に対し、女性専用の化粧品に関するメールを送信しても、たいていはスパムメール扱いされるでしょう。 
- 広告メールを送信する際も、レコメンデーションを利用することで、すべての顧客に同じ内容のメールを送信するのではなく、顧客の趣味趣向にあった内容のメールを送信することが可能となります。

### 4. 実店舗でもフィルタリングの結果を利用する
- 収集した顧客の行動履歴から導き出されたフィルタリングの結果を実店舗でも活かすことが考えられます。たとえば、前述の「おむつとビール」の話しのように、実店舗においても、「おむつ」売り場の近くに「ビール」を置くなどの工夫を用いることが考えられます。 
- このように、レコメンドエンジンは、強力な販売促進ツールとしての効果が期待できます。特にコロナ禍では、実店舗における収益は落ち込み、ショッピングサイトでの売上の比率が伸びてきていますので、効果が薄くなってきた対面営業のかわりとして、レコメンドエンジンに投資するほうが、収益効果に期待が持てます。 
- また、商品の宣伝だけでなく、サイト閲覧者の趣味趣向に沿ったコンテンツを表示させる際にも、レコメンデーションを利用することができます。たとえば、サイト閲覧者にお勧めの記事を表示することで、サイトからの離脱率を防ぐことができます。

### Google Cloud
- Google Cloud （GCP）のレコメンドエンジンは、「Recommendations AI」というサービスによって提供されます。Recommendations AIは、Googleの機械学習アルゴリズムを利用しています。 
- サービス導入直後、顧客の行動履歴に関するデータが存在しないため、商品情報に関するデータのみをレコメンドの対象とします。顧客がオンライン・ショッピングサイトを利用するたびに、顧客の行動履歴データはGoogleのストレージサービスに蓄積されますので、そのデータに基づいてRecommendations AIは顧客の趣味趣向を解析し、最適な商品をレコメンドするように学習します。 
- レコメンドは、自動で定期的に学習することもできますし、手動で学習することもできます。

#### データの収集（Collection）
レコメンドエンジンは、顧客の行動履歴を収集します。この行動履歴は、顧客が意識しているかそうでないかに関わらず、収集されます。
たとえば、顧客が商品に対して何らかのコメントを残す場合は、顧客は商品に対する評価を意識して行いますが、顧客が商品を検索したりや閲覧した履歴がオンライン・ショッピングストアのデータベースに蓄積されていることは、顧客の意思に関係なく行われています。

#### データの保存（Storage）
顧客の行動履歴がレコメンドエンジンに蓄積されるほど、レコメンデーションの精度は向上します。顧客の行動履歴を蓄積するデータベースは、リレーショナル型データベースでもNoSQLデータベースでも可能です。
リレーショナル型データベースの方が一般的に普及しており、扱いやすいですが、大量のデータを操作するには、速度の面において、NoSQLデータベースに軍配があがります。

#### データの分析（Analysis）
レコメンドエンジンでは、どのタイミングでレコメンドを行うか、またどのような商品をレコメンドするかを設定する必要があります。
たとえば、顧客が商品を閲覧しているタイミングでレコメンドを行うケースや、後日、顧客がサイトを訪れた際にレコメンドをするケースなど、レコメンドのタイミングはさまざまです。

#### データのフィルタリング（Recommendation）
レコメンデーションのフィルタリングについては、上述のとおりです。Google Cloud （GCP）のレコメンデーションには、そのすべての種類について、利用が可能です。

### ZOZO
Googleが発表した「推薦システム」をどう実装するか - ZOZOTOWNにおけるRecommendations AIの事例紹介 - <br>
https://logmi.jp/tech/articles/323413